<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
    <title>MEDCOM.FHIR.DK.HOSPITALNOTIFICATIONTESTSCRIPTS\Testscripts - FHIR v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link href="fhir.css" rel="stylesheet"/>

    <!-- Bootstrap core CSS -->
    <link href="assets/css/bootstrap-fhir.css" rel="stylesheet"/>

    <!-- Project extras -->
    <link href="assets/css/project.css" rel="stylesheet"/>
    <link href="assets/css/pygments-manni.css" rel="stylesheet"/>
    <link href="assets/css/jquery-ui.css" rel="stylesheet"/>
  	<link href="assets/css/prism.css" rel="stylesheet" />
    <!-- Placeholder for child template CSS declarations -->
    <link href="assets/css/hl7-dk.css" rel="stylesheet"/>

    <script type="text/javascript" src="fhir-table-scripts.js"> </script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif]-->

    <!-- Favicons -->
    <link rel="apple-touch-icon-precomposed" sizes="144x144" href="assets/ico/apple-touch-icon-144-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="114x114" href="assets/ico/apple-touch-icon-114-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" sizes="72x72" href="assets/ico/apple-touch-icon-72-precomposed.png"/>
    <link rel="apple-touch-icon-precomposed" href="assets/ico/apple-touch-icon-57-precomposed.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>

    <style type="text/css">h2{--heading-prefix:"4"}
    h3,h4,h5,h6{--heading-prefix:"4"}</style>
    <div id="segment-header" class="segment">  <!-- segment-header -->
      <div class="container">  <!-- container -->
        <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a id="hl7-logo" no-external="true" href="https://www.medcom.dk">
            <img height="50" alt="Visit MedComs website" src="assets/images/dark-medcom-logo.png"/>
          </a>
        </div>
        <div id="family-nav">
          <a id="family-logo" no-external="true" href="http://hl7.org/fhir"><img height="50" alt="Visit the FHIR website" src="assets/images/fhir-logo-www.png"/> </a>
        </div>        

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">HospitalNotification Testscripts</span>
            <br/>
            <span style="display:inline-block;">3.0.0 - ci-build


            </span>
          </p>
        </div>
      </div> <!-- /container -->
    </div>  <!-- /segment-header -->

    <div id="segment-navbar" class="segment">  <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">  <!-- container -->
        <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
          <!--status-bar-->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" class="navbar-toggle" data-toggle="collapse" type="button">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a class="navbar-brand hidden" href="http://hl7.org/fhir/R4/index.html">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
              <!-- menu.xml  -->

<ul xmlns="http://www.w3.org/1999/xhtml" class="nav navbar-nav">
  <li>
    <a href="index.html">IG Home</a>
  </li>
  <li>
    <a href="testscripts.html">Test scripts</a>
  </li>
  <li>
    <a href="testexamples.html">Test examples</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts Summary</a>
  </li>
  <li>
    <a href="downloads.html">Download</a>
  </li>
</ul>
            </div>  <!-- /.nav-collapse -->
          </div>  <!-- /.container -->
        </nav>  <!-- /.navbar -->
      <!-- /HEADER CONTENT -->
      </div>  <!-- /container -->
    </div>  <!-- /segment-navbar -->
    <!--status-bar-->

    <div id="segment-breadcrumb" class="segment">  <!-- segment-breadcrumb -->
      <div class="container">  <!-- container -->
        <ul class="breadcrumb">
          <li><a href='toc.html'><b>Table of Contents</b></a></li><li><b>Testscripts</b></li>

        </ul>
      </div>  <!-- /container -->
    </div>  <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">  <!-- segment-content -->
      <div class="container">  <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
  <!--ReleaseHeader--><p id="publish-box">This page is part of the DK MedCom HospitalNotification TestScripts (v3.0.0: Release) based on <a href="http://hl7.org/fhir/R4">FHIR R4</a>. .  For a full list of available versions, see the <a href="http://medcomfhir.dk/ig/hospitalnotificationtestscripts/history.html">Directory of published versions <img src="external.png" style="text-align: baseline"></a></p><!--EndReleaseHeader-->
  <h2>Testscripts</h2>
  












    <p><!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#before-getting-started" id="markdown-toc-before-getting-started">Before getting started</a></li>
  <li><a href="#send-hospitalnotification-test-scripts" id="markdown-toc-send-hospitalnotification-test-scripts">Send HospitalNotification test scripts</a></li>
  <li><a href="#receive-hospitalnotification-message" id="markdown-toc-receive-hospitalnotification-message">Receive HospitalNotification message</a></li>
</ul>

</div>
<p>The test scripts are created by MedCom for testing in <a href="https://touchstone.aegis.net/touchstone/">TouchStone</a> during MedCom test and certification, both self- and live test. However, the test scripts may be used locally by vendors in their own testsetup, e.g. during code development or test.</p>

<p>Test scripts presented in this IG are all based on the <a href="https://www.hl7.org/fhir/testscript.html">FHIR TestScript resource</a>. They are created using FSH and published using the FHIR publisher.</p>

<h3 id="before-getting-started">Before getting started</h3>

<p>Use cases described in the <a href="https://medcomdk.github.io/dk-medcom-hospitalnotification/#12-use-cases">use case document</a> will be referenced throughout this IG and they are the basis for the tests.</p>

<p>In addition to test scripts based on the use cases, test scripts testing <strong>patient flows</strong> are included. These test scripts will test different, and in some cases extended flows of the HospitalNotification use cases, that hasn’t been tested in the use case focused tests. They will of course only test within the boundaries of the HospitalNotification standard and governance.</p>

<h4 id="touchstone-and-api">TouchStone and API</h4>
<p>Before getting started with test script execution, it is necessary to have an account on TouchStone and to create a test system. Please follow <a href="https://medcomdk.github.io/MedComLandingPage/assets/documents/TouchStoneGettingStarted.html">this guide to setup an account and test system</a>.</p>

<h4 id="abbreviations-and-naming">Abbreviations and naming</h4>

<p><strong>Abbreviations:</strong></p>

<p>The term ‘inpatient’ and abbreviation ‘imp’ refers to a patient who is admitted/registered as an inpatient in the hospital’s EHR system (Danish: indlagt),  and the term ‘emergency’ and abbreviation ‘emer’ refers to a patient that is registered as acute ambulant in the hospital’s EHR system (Danish: akut ambulant).</p>

<p>The abbreviation ‘tec’ is used when testing the patient flow, to indicate that the test script has a technical character.</p>

<p>The system under test is abbreviated ‘SUT’.</p>

<p><strong>Test script naming:</strong></p>

<p>Most of the send test scripts requires that SUT has executed one or more use cases in advance. These use cases are listed in the ‘Precondition’ columns in the tables.</p>

<p><strong>Use cases:</strong> The name of the test scripts is constituted by HospitalNotification_Testscript_[send/receive]-[type]-[imp/emer or alternative flow or precondition], describing the type of messages being sent, or recieved. ‘HospitalNotifciation_Testscript_[send/receive]-‘ is not shown in the naming below.</p>

<p><strong>Patient flows:</strong> These will be named HospitalNotification_Testscript_PF-[send/receive]-[imp/emer/tec]-[number]. ‘HospitalNotifciation_Testscript_’ is not shown in the naming below.</p>

<h3 id="send-hospitalnotification-test-scripts">Send HospitalNotification test scripts</h3>
<p>When sending a HospitalNotification, a POST operation is required for all types of messages, and is therefore valid for both the precondition messages and actual messages being tested.</p>

<h4 id="use-cases">Use Cases</h4>

<p><a href="https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/HospitalNotification/v300/Send/PatientFlows&amp;activeOnly=false&amp;contentEntry=TEST_SCRIPTS">Test scripts for test of sending use cases, can be found here in TouchStone.</a></p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Use case <br /> code</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Type</strong></th>
      <th><strong>Precondition</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-stin.html">STIN</a></td>
      <td>S1</td>
      <td>Send: Start hospital stay - admitted</td>
      <td>STIN</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-stin-a1.html">STIN-A1</a></td>
      <td>S1.A1</td>
      <td>Send: Start hospital stay - admitted, without request for a reportOfAdmission</td>
      <td>STIN</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-stor.html">STOR</a></td>
      <td>S3</td>
      <td>Send: Start leave</td>
      <td>STOR</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-slor.html">SLOR</a></td>
      <td>S4</td>
      <td>Send: End leave</td>
      <td>SLOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-slhj-imp.html">SLHJ-imp</a></td>
      <td>S6</td>
      <td>Send: End hospital stay - patient completed to home/primary sector</td>
      <td>SLHJ</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-mors.html">MORS</a></td>
      <td>S7</td>
      <td>Send: Deceased - dead at arrival to the hospital</td>
      <td>MORS</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-mors-imp.html">MORS-imp</a></td>
      <td>S7</td>
      <td>Send: Deceased - deceased during hospital stay</td>
      <td>MORS</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-mors-stor.html">MORS-STOR</a></td>
      <td>S7</td>
      <td>Send: Deceased - deceased during a period of leave</td>
      <td>MORS</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-staa.html">STAA</a></td>
      <td>S2</td>
      <td>Send: Start hospital stay - acute ambulant</td>
      <td>STAA</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-slhj-emer.html">SLHJ-emer</a></td>
      <td>S6</td>
      <td>Send: End hospital stay - patient completed to home/primary sector</td>
      <td>SLHJ</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-mors-emer.html">MORS-emer</a></td>
      <td>S7</td>
      <td>Send: Deceased -  deceased during hospital stay</td>
      <td>MORS</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-stin.html">RE_STIN</a></td>
      <td>S.CORR</td>
      <td>Send: Send: Update Start hospital stay - admitted</td>
      <td>RE_STIN</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-stor.html">RE_STOR</a></td>
      <td>S.CORR</td>
      <td>Send: Send: Update Start leave</td>
      <td>RE_STOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-slor.html">RE_SLOR</a></td>
      <td>S.CORR</td>
      <td>Send: Send: Update End leave</td>
      <td>RE_SLOR</td>
      <td>STIN, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-slhj-imp.html">RE_SLHJ-imp</a></td>
      <td>S.CORR</td>
      <td>Send: Send: Update End hospital stay - patient completed to home/primary sector</td>
      <td>RE_SLHJ</td>
      <td>STIN, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-mors.html">RE_MORS</a></td>
      <td>S.CORR</td>
      <td>Send: Update Deceased - dead at arrival to the hospital</td>
      <td>RE_MORS</td>
      <td>MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-mors-imp.html">RE_MORS-imp</a></td>
      <td>S.CORR</td>
      <td>Send: Update Deceased - deceased during hospital stay</td>
      <td>RE_MORS</td>
      <td>STIN, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-mors-stor.html">RE_MORS-STOR</a></td>
      <td>S.CORR</td>
      <td>Send: Update Deceased - deceased during a period of leave</td>
      <td>RE_MORS</td>
      <td>STIN, STOR, MORS</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-staa.html">RE_STAA</a></td>
      <td>S.CORR</td>
      <td>Send: Update Start hospital stay - acute ambulant</td>
      <td>RE_STAA</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-slhj-emer.html">RE_SLHJ-emer</a></td>
      <td>S.CORR</td>
      <td>Send: Update End hospital stay - patient completed to home/primary sector</td>
      <td>RE_SLHJ</td>
      <td>STAA, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-re-mors-emer.html">RE_MORS-emer</a></td>
      <td>S.CORR</td>
      <td>Send: Update Deceased - deceased during acute ambulant</td>
      <td>RE_MORS</td>
      <td>STAA, MORS</td>
    </tr>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-stin.html">AN_STIN</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Start hospital stay - admitted</td>
      <td>AN_STIN</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-stor.html">AN_STOR</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Start leave</td>
      <td>AN_STOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-slor.html">AN_SLOR</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation End leave</td>
      <td>AN_SLOR</td>
      <td>STIN, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-slhj-imp.html">AN_SLHJ-imp</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation End hospital stay - patient completed to home/primary sector</td>
      <td>AN_SLHJ</td>
      <td>STIN, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-mors.html">AN_MORS</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Deceased - dead at arrival to the hospital</td>
      <td>AN_MORS</td>
      <td>MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-mors-imp.html">AN_MORS-imp</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Deceased - deceased during admission</td>
      <td>AN_MORS</td>
      <td>STIN, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-mors-stor.html">AN_MORS-STOR</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Deceased - deceased during a period of leave</td>
      <td>AN_MORS</td>
      <td>STIN, STOR, MORS</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-staa.html">AN_STAA</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Start hospital stay - acute ambulant</td>
      <td>AN_STAA</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-slhj-emer.html">AN_SLHJ-emer</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation End hospital stay - patient completed to home/primary sector</td>
      <td>AN_SLHJ</td>
      <td>STAA, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-send-an-mors-emer.html">AN_MORS-emer</a></td>
      <td>S.CANC</td>
      <td>Send: Cancellation Deceased - deceased during acute ambulant</td>
      <td>AN_MORS</td>
      <td>STAA, MORS</td>
    </tr>
  </tbody>
</table>

<h4 id="patient-flow">Patient Flow</h4>

<p><a href="https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/HospitalNotification/v300/Send/PatientFlows&amp;activeOnly=false&amp;contentEntry=TEST_SCRIPTS">Test scripts for test of sending patient flows, can be found here in TouchStone.</a></p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-01.html">PF-send-imp-01</a></td>
      <td>Send: Admit patient, register patient as being on leave, register patient as returned from leave, discharge patient.</td>
      <td>STIN, STOR, SLOR, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-02.html">PF-send-imp-02</a></td>
      <td>Send: Admit patient, register patient as being on leave, patient doesn’t return from leave, discharge patient.<sup id="fnref:1" role="doc-noteref"><a href="#fn:1" class="footnote" rel="footnote">1</a></sup></td>
      <td>STIN, STOR, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-03.html">PF-send-imp-03</a></td>
      <td>Send: Admit patient, register patient as being on leave, patient returns from leave, patient dies</td>
      <td>STIN, STOR, SLOR, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-04.html">PF-send-imp-04</a></td>
      <td>Send: Admit patient, <em>register patient as being on leave, patient returns from leave</em>, * to * x2</td>
      <td>STIN,  STOR, SLOR, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-05.html">PF-send-imp-05</a></td>
      <td>Send: Admit patient, correct message due to incorrect hospital department</td>
      <td>STIN, RE_STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-imp-06.html">PF-send-imp-06</a></td>
      <td>Send: Admit patient, correct message due to incorrect time of admission</td>
      <td>STIN, RE_STIN</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-emer-01.html">PF-send-emer-01</a></td>
      <td>Send: Register patient as acute ambulant, correct message due to incorrect hospital department</td>
      <td>STAA, RE_STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-emer-02.html">PF-send-emer-02</a></td>
      <td>Send: Register patient as acute ambulant, correct message due to incorrect time of admission</td>
      <td>STAA, RE_STAA</td>
    </tr>
    <tr>
      <td><strong>Emergency/Inpatient</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-emer-imp-01.html">PF-send-emer/imp-01</a></td>
      <td>Send: Register patient as acute ambulant, admit patient (inpatient), discharge patient</td>
      <td>STAA, STIN, SLHJ</td>
    </tr>
    <tr>
      <td><strong>Technical</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-tec-01.html">PF-send-tec-01</a></td>
      <td>Send: Cancel a correction: Admit patient, correct admit patient and cancel the correction</td>
      <td>STIN, RE_STIN, AN_STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-tec-02.html">PF-send-tec-02</a></td>
      <td>Send: Send a message on the 29th of February 2024 (leap year.html)</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-tec-03.html">PF-send-tec-03</a></td>
      <td>Send dublicate: Admit patient, doesn’t get acknowledged, send admit patient. IDs are handled correct</td>
      <td>STIN, STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-send-tec-04.html">PF-send-tec-04</a></td>
      <td>Send: Admit patient and End hospital stay in different timezones. Correct use of timezone of summertime (+02:00) and vintertime (+01:00).</td>
      <td>STIN, SLHJ</td>
    </tr>
  </tbody>
</table>

<h3 id="receive-hospitalnotification-message">Receive HospitalNotification message</h3>
<p>When receiving a HospitalNotification, a GET operation is required for all types of messages, valid for both the precondition messages and actual messages being tested.</p>

<p><strong>Test examples/fixtures:</strong>
Test examples are, in TouchStone testing, called fixtures. These fixtures are uploaded to TouchStone. During setup of a test, all relevant fixtures will be uploadet to the server used during test. From a client application e.g. a vendor’s system, it is possible to request relevant fixture.</p>

<p><strong>HospitalNotifications:</strong> 
Timestamps in most fixtures (HospitalNotifications) are sent between the 28th of February 2023 and 7th of March 2023. The only exception are the fixture used for PF-receive-tec-04 which is on the 28th of February 2023 and the fixture used for PF-receive-tec-05 which is on the 29th of February 2024. All corrections and cancellation messages are sent one hour after the message it revises or cancels.</p>

<p>All fixtures are based on the test patient:</p>
<ul>
  <li>Family name: Elmer</li>
  <li>CPR-nr.: 250947-9989</li>
</ul>

<h4 id="placeholders">Placeholders</h4>
<p><a href="https://touchstone.aegis.net/touchstone/userguide/html/testscript-authoring/placeholders.html?highlight=placeholder">Placeholders</a> are used in the fixtures. Placeholders are used to ensure uniqueness in a fixture, and to ensure that vendors testing at the same time won’t interfere with eachother.</p>

<p><strong>UUID:</strong>
Bundle.id will be generate during the test setup. The following line is included in the fixtures.
  <code class="language-plaintext highlighter-rouge">&lt;id value="${UUID}"/&gt;</code>
Which results in the following being generated during setup. For instance: 
  <code class="language-plaintext highlighter-rouge">&lt;id value="b9b4818e-02de-4cc4-b418-d20cbc399006"/&gt;</code></p>

<p><strong>Digits:</strong>
MessageHeader.destination.endpoint and id of the MessageHeader, used in the elements MessageHeader.id, Provenance.target and Provenance.entity.what, includes the placeholder D6. 
The following line is included in the fixtures.
  <code class="language-plaintext highlighter-rouge">&lt;id value="hefc6d95-6161-4493-99c9-f35948${D6}"/&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;endpoint value="https://sor2.sum.dsdn.dk/#id=953741000016009${D6}"/&gt;</code>. <br />
Which results in the following being generated during setup. For instance: 
  <code class="language-plaintext highlighter-rouge">&lt;id value="b9b4818e-02de-4cc4-b418-d20cbc399006"/&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;endpoint value="https://sor2.sum.dsdn.dk/#id=953741000016009"/&gt;</code></p>

<h4 id="get-operation">GET operation</h4>
<p>When searching for a HospitalNotification message, the GET operation requires a variable to search for a specific message. The variable used in the request is constituted by client information and two search parameters 1) the destination endpoint with placeholder ${D6}, and 2) the Bundle.id.</p>

<p>In the test scripts, the search parameter are: 
  <code class="language-plaintext highlighter-rouge">"params": "?message.destination-uri=${destinationUri-STIN}&amp;amp;member._id=${bundleid-STIN}"</code>
Which results in the following variable to be used in the GET operation. For instance: 
  <code class="language-plaintext highlighter-rouge">http://touchstone.aegis.net:49917/fhir4-0-1/Bundle?message.destination-uri=https://sor2.sum.dsdn.dk/#id=953741000016009399006&amp;amp;member._id=b9b4818e-02de-4cc4-b418-d20cbc399006</code></p>

<h4 id="use-cases-1">Use Cases</h4>

<p><a href="https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/HospitalNotification/v300/Receive/UseCases&amp;activeOnly=false&amp;contentEntry=TEST_SCRIPTS">Test scripts for test of the recieving use cases, can be found here in TouchStone.</a></p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Use case <br /> code</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Type</strong></th>
      <th><strong>Precondition</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-stin.html">STIN</a></td>
      <td>R1</td>
      <td>Receive: Start hospital stay - admitted</td>
      <td>STIN</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-stin-a1.html">STIN-A1</a></td>
      <td>R1.A1</td>
      <td>Receive: Start hospital stay - admitted, without request for reportOfAdmission</td>
      <td>STIN</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-stor.html">STOR</a></td>
      <td>R3</td>
      <td>Receive: Start leave</td>
      <td>STOR</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-slor.html">SLOR</a></td>
      <td>R4</td>
      <td>Receive: End leave</td>
      <td>SLOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-slhj-imp.html">SLHJ-imp</a></td>
      <td>R6</td>
      <td>Receive: End hospital stay - patient completed to home/primary sector</td>
      <td>SLHJ</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-mors.html">MORS</a></td>
      <td>R7</td>
      <td>Receive: Deceased - is dead at arrival to the hospital</td>
      <td>MORS</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-mors-imp.html">MORS-imp</a></td>
      <td>R7</td>
      <td>Receive: Deceased - deceased during hospital stay</td>
      <td>MORS</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-mors-stor.html">MORS-STOR</a></td>
      <td>R7</td>
      <td>Receive: Deceased - deceased during a period of leave</td>
      <td>STIN, STOR</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-staa.html">STAA</a></td>
      <td>R2</td>
      <td>Receive: Start hospital stay - acute ambulant</td>
      <td>STAA</td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-slhj-emer.html">SLHJ-emer</a></td>
      <td>R6</td>
      <td>Receive: End hospital stay - patient completed to home/primary sector</td>
      <td>SLHJ</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-mors-emer.html">MORS-emer</a></td>
      <td>R7</td>
      <td>Receive: Deceased - deceased during acute ambulant</td>
      <td>MORS</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-stin.html">RE_STIN</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Start hospital stay</td>
      <td>RE_STIN</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-stor.html">RE_STOR</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Start leave</td>
      <td>RE_STOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-slor.html">RE_SLOR</a></td>
      <td>R.CORR</td>
      <td>Receive: Update End leave</td>
      <td>RE_SLOR</td>
      <td>STIN, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-slhj-imp.html">RE_SLHJ-imp</a></td>
      <td>R.CORR</td>
      <td>Receive: Update End hospital stay – patient completed to home/primary sector</td>
      <td>RE_SLHJ</td>
      <td>STIN, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-mors.html">RE_MORS</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Deceased - is dead at arrival to the hospital</td>
      <td>RE_MORS</td>
      <td>MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-mors-imp.html">RE_MORS-imp</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Deceased - deceased during hospital stay</td>
      <td>RE_MORS</td>
      <td>STIN, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-mors-stor.html">RE_MORS-STOR</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Deceased - deceased during a period of leave</td>
      <td>RE_MORS</td>
      <td>STIN, STOR, MORS</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-staa.html">RE_STAA</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Start hospital stay - acute ambulant</td>
      <td>RE_STAA</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-slhj-emer.html">RE_SLHJ-emer</a></td>
      <td>R.CORR</td>
      <td>Receive: Update End hospital stay – patient completed to home/primary sector</td>
      <td>RE_SLHJ</td>
      <td>STAA, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-re-mors-emer.html">RE_MORS-emer</a></td>
      <td>R.CORR</td>
      <td>Receive: Update Deceased - deceased during acute ambulant</td>
      <td>STAA, MORS</td>
      <td> </td>
    </tr>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-stin.html">AN_STIN</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Start hospital stay</td>
      <td>AN_STIN</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-stor.html">AN_STOR</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Start leave</td>
      <td>AN_STOR</td>
      <td>STIN, STOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-slor.html">AN_SLOR</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation End leave</td>
      <td>AN_SLOR</td>
      <td>STIN, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-slhj-imp.html">AN_SLHJ-imp</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation End hospital stay – patient completed to home/primary sector</td>
      <td>AN_SLHJ</td>
      <td>STIN, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-mors.html">AN_MORS</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Deceased - is dead at arrival to the hospital</td>
      <td>AN_MORS</td>
      <td>MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-mors-imp.html">AN_MORS-imp</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Deceased - deceased during hospital stay</td>
      <td>AN_MORS</td>
      <td>STIN, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-mors-stor.html">AN_MORS-STOR</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Deceased - deceased during a period of leave</td>
      <td>AN_MORS</td>
      <td>STIN, STOR, MORS</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-staa.html">AN_STAA</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Start hospital stay - acute ambulant</td>
      <td>AN_STAA</td>
      <td>STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-slhj-emer.html">AN_SLHJ-emer</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation End hospital stay – patient completed to home/primary sector</td>
      <td>AN_STOR</td>
      <td>STAA, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-receive-an-mors-emer.html">AN_MORS-emer</a></td>
      <td>R.CANC</td>
      <td>Receive: Cancellation Deceased - deceased during acute ambulant</td>
      <td>AN_MORS</td>
      <td>STAA, MORS</td>
    </tr>
  </tbody>
</table>

<h4 id="patient-flow-1">Patient Flow</h4>

<p><a href="https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/HospitalNotification/v300/Receive/PatientFlows&amp;activeOnly=false&amp;contentEntry=TEST_SCRIPTS">Test scripts for test of the recieving patient flows, can be found here in TouchStone.</a></p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Type</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>Inpatient</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-01.html">PF-receive-imp-01</a></td>
      <td>Receive: Patient is admitted, patient is registered as being on leave, patient returns from leave, patient is discharged</td>
      <td>STIN, STOR, SLOR, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-02.html">PF-receive-imp-02</a></td>
      <td>Receive: Patient is admitted, patient is registered as being on leave, patient doesn’t return from leave, patient is discharged</td>
      <td>STIN, STOR, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-03.html">PF-receive-imp-03</a></td>
      <td>Receive: Patient is admitted, patient is registered as being on leave, patient returns from leave, patient is registered as dead</td>
      <td>STIN, STOR, SLOR, MORS</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-04.html">PF-receive-imp-04</a></td>
      <td>Receive: Patient is admitted, ‘patient is registered as being on leave, patient returns from leave’, ‘ to ‘ x 2</td>
      <td>STIN,  STOR, SLOR, STOR, SLOR</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-05.html">PF-receive-imp-05</a></td>
      <td>Receive: Patient is admitted, message is corrected due to incorrect hospital department</td>
      <td>STIN, RE_STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-imp-06.html">PF-receive-imp-06</a></td>
      <td>Receive: Patient is admitted, message is corrected due to incorrect time of admission</td>
      <td>STIN, RE_STIN</td>
    </tr>
    <tr>
      <td><strong>Emergency</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-emer-01.html">PF-receive-emer-01</a></td>
      <td>Receive: Patient is admitted, message is corrected due to incorrect hospital department</td>
      <td>STAA, RE_STAA</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-emer-02.html">PF-receive-emer-02</a></td>
      <td>Receive: Patient is admitted, message is corrected due to incorrect time of admission</td>
      <td>STAA, RE_STAA</td>
    </tr>
    <tr>
      <td><strong>Emergency/Inpatient</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-emer-imp-01.html">PF-receive-emer-imp-01</a></td>
      <td>Receive: Patient is admitted as emergency, patient is admitted as inpatient, patient is discharged</td>
      <td>STAA, STIN, SLHJ</td>
    </tr>
    <tr>
      <td><strong>Technical</strong></td>
      <td> </td>
      <td> </td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-01.html">PF-receive-tec-01</a></td>
      <td>Receive dublicate: Patient is admitted, doesn’t get acknowledged, patient is admitted</td>
      <td>STIN, STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-02.html">PF-receive-tec-02</a></td>
      <td>Receive: Receive cancellation of admit patient: Patient is admitted, correction of admit patient and cancellation admit patient</td>
      <td>STIN, RE_STIN, AN_STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-03.html">PF-receive-tec-03</a></td>
      <td>Receive: Messages received in wrong order: Patient is admitted as emergency, patient is discharged, patient is admitted as inpatient.</td>
      <td>STAA, SLHJ, STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-04.html">PF-receive-tec-04</a></td>
      <td>Receive: Receive a message with different timezones (+01:00 and +02:00): Patient is admitted in one timezone, patient is discharged in a different timezone.</td>
      <td>STIN, SLHJ</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-05.html">PF-receive-tec-05</a></td>
      <td>Receive: Receive a message on the 29th of February 2024 (leap year): Patient is admitted on the date of leap year</td>
      <td>STIN</td>
    </tr>
    <tr>
      <td><a href="./TestScript-hospitalnotification-PF-receive-tec-06.html">PF-receive-tec-06</a></td>
      <td>Receive: Receive a message where the serviceprovider is different from the sender: Patient is admitted</td>
      <td>STIN</td>
    </tr>
  </tbody>
</table>

<div class="footnotes" role="doc-endnotes">
  <ol>
    <li id="fn:1" role="doc-endnote">
      <p>In this flow it is allowed to add a SLOR-message between STOR and SLHJ. In case the system does so, please skip this test script. <a href="#fnref:1" class="reversefootnote" role="doc-backlink">&#8617;</a></p>
    </li>
  </ol>
</div>



</div>
        </div>  <!-- /inner-wrapper -->
      </div>  <!-- /row -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-content -->

  <script type="text/javascript" src="assets/js/jquery.js"> </script>     <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script type="text/javascript" src="assets/js/jquery-ui.min.js"> </script>

  <script type="text/javascript">
    $(document).ready(function(){
      if(window.location.hash != "") {
          $('a[href="' + window.location.hash + '"]').click()
      }
    });
  </script>
  <a name="bottom"> </a>
  <div id="segment-footer" igtool="footer" class="segment">  <!-- segment-footer -->
    <div class="container">  <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &#169; 2020+ <a style="color:var(--footer-hyperlink-text-color)" href="mailto:fhir@medcom.dk"></a>.  Package medcom.fhir.dk.hospitalnotificationtestscripts#3.0.0 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Mon, May 1, 2023 14:48+0200">2023-05-01</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                
          </span>
        </p>
      </div>  <!-- /inner-wrapper -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">  <!-- segment-post-footer -->
    <div class="container">  <!-- container -->
    </div>  <!-- /container -->
  </div>  <!-- /segment-post-footer -->
  
  <!-- JS and analytics only. -->
  <!-- Bootstrap core JavaScript
  ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script type="text/javascript" src="assets/js/bootstrap.min.js"> </script>
  <script type="text/javascript" src="assets/js/respond.min.js"> </script>
  <script type="text/javascript" src="assets/js/anchor.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard.min.js"> </script>
  <script type="text/javascript" src="assets/js/clipboard-btn.js"> </script>
  <script>anchors.options.visible = 'hover'
anchors.add()</script>
  
<!-- feedback form - Google forms -->
<!-- v0.1, 2021-01-09 -->



<!-- / feedback form  -->

  <!-- Analytics Below
  ================================================== -->
  </body>
</html>

