<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1493px" preserveAspectRatio="none" style="width:759px;height:1493px;background:#FFFFFF;" version="1.1" viewBox="0 0 759 1493" width="759px" zoomAndPan="magnify"><defs/><g><!--MD5=[9756565d0a87a182f1ee8f471f451df3]
cluster finished--><g id="cluster_finished"><rect fill="none" height="1480" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="746" x="7" y="7"/><path d="M87,7 L87,17.6094 L77,27.6094 L7,27.6094 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="10" y="22.5332">Deceased</text></g><!--MD5=[8643caa4df69b0da87a1502fd43a3ee1]
class finishedB--><g id="elem_finishedB"><rect codeLine="15" fill="#FFFFFF" height="88.4375" id="finishedB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="43"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="233" y="62.5332">Bundle  (MedComHospitalNotificationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="70.6094" y2="70.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="29" y="89.1426">id = "g099bbf3-3fca-4722-a248-bfe1aa956410"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="29" y="106.752">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273" x="29" y="124.3613">timestamp = "2022-12-09T09:45:31+02:00"</text></g><!--MD5=[2438405adbef9080ca323d9bd84f009f]
class finishedMH--><g id="elem_finishedMH"><rect codeLine="20" fill="#FFFFFF" height="211.7031" id="finishedMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="141"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="399" x="180.5" y="160.5332">MessageHeader  (MedComHospitalNotificationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="168.6094" y2="168.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="29" y="187.1426">id = "hefc6d95-6161-4493-99c9-f359488dedb8"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="29" y="204.752">event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="29" y="222.3613">event.code = "hospital-notification-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="702" x="29" y="239.9707">destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="29" y="257.5801">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="29" y="275.1895">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="572" x="29" y="292.7988">destination.receiver.reference = "Organization/753bdcba-81ce-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="29" y="310.4082">sender.reference = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="29" y="328.0176">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="402" x="29" y="345.627">focus = "Encounter/gcab7218-9584-11ec-b909-0242ac120002"</text></g><!--MD5=[69159a19e1c17c8c59fb310b141e20fe]
class finishedPT--><g id="elem_finishedPT"><rect codeLine="32" fill="#FFFFFF" height="176.4844" id="finishedPT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="363"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="283.5" y="382.5332">Patient  (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="390.6094" y2="390.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="29" y="409.1426">id = "t82fb8a3-6725-41e2-a615-2b1cfcfe9931"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="29" y="426.752">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="29" y="444.3613">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="29" y="461.9707">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="29" y="479.5801">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="29" y="497.1895">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29" y="514.7988">name.given[1] = "Test"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="29" y="532.4082">deceased = "true"</text></g><!--MD5=[f65897f4a4ff1f4ef21384fb85edbe70]
class finishedENC--><g id="elem_finishedENC"><rect codeLine="42" fill="#FFFFFF" height="229.3125" id="finishedENC" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="549"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="323" x="218.5" y="568.5332">Encounter  (MedComHospitalNotificationEncounter)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="576.6094" y2="576.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="29" y="595.1426">id = "gcab7218-9584-11ec-b909-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="682" x="29" y="612.752">status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="29" y="630.3613">status.code = "finished"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="29" y="647.9707">class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="29" y="665.5801">class.code = "IMP"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="377" x="29" y="683.1895">subject = "Patient/t82fb8a3-6725-41e2-a615-2b1cfcfe9931"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="594" x="29" y="700.7988">episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="539" x="29" y="718.4082">episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="29" y="736.0176">period.start = "2022-12-07T12:00:00+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="29" y="753.627">periode.end = "2022-12-09T09:45:30+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="482" x="29" y="771.2363">serviceProvider = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"</text></g><!--MD5=[8167ec7728550bc37cdf5ab657a3a60b]
class finishedROrg--><g id="elem_finishedROrg"><rect codeLine="55" fill="#FFFFFF" height="141.2656" id="finishedROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="788"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="243" y="807.5332">Receiver (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="815.6094" y2="815.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="29" y="834.1426">id = "753bdcba-81ce-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29" y="851.752">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29" y="869.3613">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29" y="886.9707">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29" y="904.5801">identifier[1].value = "953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="29" y="922.1895">name = "Plejecenter Herlev"</text></g><!--MD5=[45851fe3f072b6e685002dddf1e38ddc]
class finishedSOrg--><g id="elem_finishedSOrg"><rect codeLine="63" fill="#FFFFFF" height="141.2656" id="finishedSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="939"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="248" y="958.5332">Sender (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="966.6094" y2="966.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29" y="985.1426">id = "840b4046-81ce-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29" y="1002.752">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29" y="1020.3613">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29" y="1037.9707">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29" y="1055.5801">identifier[1].value = "265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="360" x="29" y="1073.1895">name = "Hjerteafdelingen på Herlev og Gentofte hospital"</text></g><!--MD5=[75f6ba0f813ec2cc7f51b4f6df93deb7]
class admitfinishedPRO--><g id="elem_admitfinishedPRO"><rect codeLine="71" fill="#FFFFFF" height="158.875" id="admitfinishedPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="1090"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="235" y="1109.5332">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1117.6094" y2="1117.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="29" y="1136.1426">id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="29" y="1153.752">target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29" y="1171.3613">occuredDateTime = "2022-12-07T12:00:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29" y="1188.9707">recorded = "2022-12-07T12:00:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29" y="1206.5801">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="29" y="1224.1895">activity.code = "admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="29" y="1241.7988">agent.who = "Organization/d6ed6725-1aec-42ad-829d-f7074c3914f3"</text></g><!--MD5=[25b5a17ee15e2b3dc74e7b80e781b6e9]
class finishedPRO--><g id="elem_finishedPRO"><rect codeLine="80" fill="#FFFFFF" height="211.7031" id="finishedPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="1259"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="235" y="1278.5332">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1286.6094" y2="1286.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308" x="29" y="1305.1426">id = "g9942adb-197a-4e30-bec8-566e3a113efe"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="436" x="29" y="1322.752">target = "MessageHeader/hefc6d95-6161-4493-99c9-f359488dedb8"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29" y="1340.3613">occuredDateTime = "2022-12-09T09:45:32+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29" y="1357.9707">recorded = "2022-12-09T09:45:32+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29" y="1375.5801">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="29" y="1393.1895">activity.code = "admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="449" x="29" y="1410.7988">agent.who = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="29" y="1428.4082">entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="29" y="1446.0176">entity.role.value = "revision"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="29" y="1463.627">entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text></g><!--MD5=[4d74d65cc9b48f686308486efe3538f9]
link finishedB to finishedMH--><!--MD5=[01398e4eee645f6817e085231ec28f01]
link finishedMH to finishedPT--><!--MD5=[5639e68ccfddceafd0b94761b3bd9542]
link finishedPT to finishedENC--><!--MD5=[8899a0f3539f940b0d000e1b06fb8e9b]
link finishedENC to finishedROrg--><!--MD5=[70f1cb6cd4d544ed603bf13294a71ace]
link finishedROrg to finishedSOrg--><!--MD5=[d8a2a7125f85b778798b2e3e86e46577]
link finishedSOrg to admitfinishedPRO--><!--MD5=[774b752288196a1a08a451fcc2747d3a]
link admitfinishedPRO to finishedPRO--><!--MD5=[9559f91f1e2b6564419ef9f05960ac96]
@startuml HNdeceasedInPat

'layout
skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


package "Deceased" as finished <<Frame>>{
    class "Bundle  (MedComHospitalNotificationMessage)" as finishedB{
        id = "g099bbf3-3fca-4722-a248-bfe1aa956410"
        type = "message"
        timestamp = "2022-12-09T09:45:31+02:00"
    }
    class "MessageHeader  (MedComHospitalNotificationMessageHeader)" as finishedMH{
        id = "hefc6d95-6161-4493-99c9-f359488dedb8"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/753bdcba-81ce-11ed-a1eb-0242ac120002"
        sender.reference = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/gcab7218-9584-11ec-b909-0242ac120002"
    }
    class "Patient  (MedComCorePatient)" as finishedPT{
        id = "t82fb8a3-6725-41e2-a615-2b1cfcfe9931"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
        deceased = "true"
    }
    class "Encounter  (MedComHospitalNotificationEncounter)" as finishedENC{
        id = "gcab7218-9584-11ec-b909-0242ac120002"
        status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "finished"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/t82fb8a3-6725-41e2-a615-2b1cfcfe9931"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-12-07T12:00:00+02:00"
        periode.end = "2022-12-09T09:45:30+02:00"
        serviceProvider = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
    } 
    class "Receiver (MedComMessagingOrganization)" as finishedROrg{
        id = "753bdcba-81ce-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
        name = "Plejecenter Herlev"
    }
    class "Sender (MedComMessagingOrganization)" as finishedSOrg{
        id = "840b4046-81ce-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
        name = "Hjerteafdelingen på Herlev og Gentofte hospital" 
    }
    class "Provenance (MedComMessagingProvenance)" as admitfinishedPRO{
        id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-12-07T12:00:02+02:00"
        recorded = "2022-12-07T12:00:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/d6ed6725-1aec-42ad-829d-f7074c3914f3"
    }
    class "Provenance (MedComMessagingProvenance)" as finishedPRO{
        id = "g9942adb-197a-4e30-bec8-566e3a113efe"
        target = "MessageHeader/hefc6d95-6161-4493-99c9-f359488dedb8"
        occuredDateTime = "2022-12-09T09:45:32+02:00"
        recorded = "2022-12-09T09:45:32+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
finishedB-[hidden]-finishedMH
finishedMH-[hidden]-finishedPT
finishedPT-[hidden]-finishedENC
finishedENC-[hidden]-finishedROrg
finishedROrg-[hidden]-finishedSOrg
finishedSOrg-[hidden]-admitfinishedPRO
admitfinishedPRO-[hidden]-finishedPRO

}
' pile mellem de to beskeder
' admit - -> finished


@enduml

@startuml HNdeceasedInPat

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


package "Deceased" as finished <<Frame>>{
    class "Bundle  (MedComHospitalNotificationMessage)" as finishedB{
        id = "g099bbf3-3fca-4722-a248-bfe1aa956410"
        type = "message"
        timestamp = "2022-12-09T09:45:31+02:00"
    }
    class "MessageHeader  (MedComHospitalNotificationMessageHeader)" as finishedMH{
        id = "hefc6d95-6161-4493-99c9-f359488dedb8"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/753bdcba-81ce-11ed-a1eb-0242ac120002"
        sender.reference = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/gcab7218-9584-11ec-b909-0242ac120002"
    }
    class "Patient  (MedComCorePatient)" as finishedPT{
        id = "t82fb8a3-6725-41e2-a615-2b1cfcfe9931"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
        deceased = "true"
    }
    class "Encounter  (MedComHospitalNotificationEncounter)" as finishedENC{
        id = "gcab7218-9584-11ec-b909-0242ac120002"
        status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "finished"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/t82fb8a3-6725-41e2-a615-2b1cfcfe9931"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
        period.start = "2022-12-07T12:00:00+02:00"
        periode.end = "2022-12-09T09:45:30+02:00"
        serviceProvider = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
    } 
    class "Receiver (MedComMessagingOrganization)" as finishedROrg{
        id = "753bdcba-81ce-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
        name = "Plejecenter Herlev"
    }
    class "Sender (MedComMessagingOrganization)" as finishedSOrg{
        id = "840b4046-81ce-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
        name = "Hjerteafdelingen på Herlev og Gentofte hospital" 
    }
    class "Provenance (MedComMessagingProvenance)" as admitfinishedPRO{
        id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-12-07T12:00:02+02:00"
        recorded = "2022-12-07T12:00:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/d6ed6725-1aec-42ad-829d-f7074c3914f3"
    }
    class "Provenance (MedComMessagingProvenance)" as finishedPRO{
        id = "g9942adb-197a-4e30-bec8-566e3a113efe"
        target = "MessageHeader/hefc6d95-6161-4493-99c9-f359488dedb8"
        occuredDateTime = "2022-12-09T09:45:32+02:00"
        recorded = "2022-12-09T09:45:32+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/840b4046-81ce-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
finishedB-[hidden]-finishedMH
finishedMH-[hidden]-finishedPT
finishedPT-[hidden]-finishedENC
finishedENC-[hidden]-finishedROrg
finishedROrg-[hidden]-finishedSOrg
finishedSOrg-[hidden]-admitfinishedPRO
admitfinishedPRO-[hidden]-finishedPRO

}


@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>