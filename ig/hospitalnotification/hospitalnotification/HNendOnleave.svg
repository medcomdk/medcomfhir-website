<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1754px" preserveAspectRatio="none" style="width:759px;height:1754px;background:#FFFFFF;" version="1.1" viewBox="0 0 759 1754" width="759px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="220" x="262.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="210" x="267.5" y="24.5332">Simplified example: End leave</text><!--MD5=[094a32da25a27f7ae2ae43c8b08ae265]
cluster endOnleave--><g id="cluster_endOnleave"><rect fill="none" height="1703" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="746" x="7" y="45.6094"/><path d="M87,45.6094 L87,56.2188 L77,66.2188 L7,66.2188 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="70" x="10" y="61.1426">End leave</text></g><!--MD5=[c9a6decd0ed2d896b92172cd5252138f]
class endOnleaveB--><g id="elem_endOnleaveB"><rect codeLine="20" fill="#FFFFFF" height="88.4375" id="endOnleaveB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="235" y="101.1426">Bundle (MedComHospitalNotificationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="109.2188" y2="109.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="29" y="127.752">id = "e94de8ee-bd94-475e-b454-b8fbbef8a685"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="29" y="145.3613">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273" x="29" y="162.9707">timestamp = "2022-12-14T15:30:01+02:00"</text></g><!--MD5=[0480104e4d8b98f8eb6bd90b63d750a0]
class endOnleaveMH--><g id="elem_endOnleaveMH"><rect codeLine="25" fill="#FFFFFF" height="211.7031" id="endOnleaveMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="179.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="395" x="182.5" y="199.1426">MessageHeader (MedComHospitalNotificationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="207.2188" y2="207.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="296" x="29" y="225.752">id = "f47254da-f170-46f0-b624-4778a9c92b1f"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="29" y="243.3613">event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="280" x="29" y="260.9707">event.code = "hospital-notification-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="702" x="29" y="278.5801">destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="29" y="296.1895">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="29" y="313.7988">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="573" x="29" y="331.4082">destination.receiver.reference = "Organization/55ba5884-81ca-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="29" y="349.0176">sender.reference = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="29" y="366.627">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="397" x="29" y="384.2363">focus = "Encounter/e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"</text></g><!--MD5=[8d49389ec55207906081a4e172135de7]
class endOnleavePT--><g id="elem_endOnleavePT"><rect codeLine="37" fill="#FFFFFF" height="158.875" id="endOnleavePT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="401.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="285.5" y="421.1426">Patient (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="429.2188" y2="429.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29" y="447.752">id = "519d5170-81ca-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="29" y="465.3613">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="29" y="482.9707">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="29" y="500.5801">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="29" y="518.1895">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="29" y="535.7988">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29" y="553.4082">name.given[1] = "Test"</text></g><!--MD5=[a733ad531f2273a693f23c400487a794]
class endOnleaveENC--><g id="elem_endOnleaveENC"><rect codeLine="46" fill="#FFFFFF" height="246.9219" id="endOnleaveENC" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="570.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="319" x="220.5" y="590.1426">Encounter (MedComHospitalNotificationEncounter)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="598.2188" y2="598.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="305" x="29" y="616.752">id = "e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="682" x="29" y="634.3613">status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="171" x="29" y="651.9707">status.code = "in-progress"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="29" y="669.5801">class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="29" y="687.1895">class.code = "IMP"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="393" x="29" y="704.7988">subject = "Patient/519d5170-81ca-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="534" x="29" y="722.4082">episodeOfCare.identifier.system = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="488" x="29" y="740.0176">episodeOfCare.identifier.value = "bd481c38-a921-11ed-afa1-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="281" x="29" y="757.627">period.start = "2022-12-07T12:00:00+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="380" x="29" y="775.2363">extension:leavePeriod.start = "2022-12-13T14:00:10+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="376" x="29" y="792.8457">extension:leavePeriod.end = "2022-12-14T15:30:00+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="482" x="29" y="810.4551">serviceProvider = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"</text></g><!--MD5=[b3bf7de2daa27b6ad6a1601727077d91]
class endOnleaveROrg--><g id="elem_endOnleaveROrg"><rect codeLine="60" fill="#FFFFFF" height="141.2656" id="endOnleaveROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="827.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="243" y="847.1426">Receiver (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="855.2188" y2="855.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29" y="873.752">id = "a39d4a04-81c8-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29" y="891.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29" y="908.9707">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29" y="926.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29" y="944.1895">identifier[1].value = "953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="29" y="961.7988">name = "Plejecenter Herlev"</text></g><!--MD5=[cbce2390a6149b4f8830c489b42f3eb4]
class endOnleaveSOrg--><g id="elem_endOnleaveSOrg"><rect codeLine="68" fill="#FFFFFF" height="141.2656" id="endOnleaveSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="978.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="248" y="998.1426">Sender (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1006.2188" y2="1006.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29" y="1024.752">id = "b79a7914-81c8-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29" y="1042.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29" y="1059.9707">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29" y="1077.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29" y="1095.1895">identifier[1].value = "265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="360" x="29" y="1112.7988">name = "Hjerteafdelingen på Herlev og Gentofte hospital"</text></g><!--MD5=[2368394ca3ef2fd76d3f052c2d010166]
class admitPRO--><g id="elem_admitPRO"><rect codeLine="76" fill="#FFFFFF" height="158.875" id="admitPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="1129.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="233" y="1149.1426">Provenance  (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1157.2188" y2="1157.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="29" y="1175.752">id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="29" y="1193.3613">target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29" y="1210.9707">occuredDateTime = "2022-12-07T12:00:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29" y="1228.5801">recorded = "2022-12-07T12:00:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29" y="1246.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="197" x="29" y="1263.7988">activity.code = "admit-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="441" x="29" y="1281.4082">agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[39b646228527caee05b072cb08ba83a0]
class startOnleavePRO--><g id="elem_startOnleavePRO"><rect codeLine="85" fill="#FFFFFF" height="211.7031" id="startOnleavePRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="1298.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="233" y="1318.1426">Provenance  (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1326.2188" y2="1326.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="29" y="1344.752">id = "dc421d0a-cded-470f-9a53-2ddba7583baa"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="442" x="29" y="1362.3613">target = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29" y="1379.9707">occuredDateTime = "2022-12-13T14:00:12+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29" y="1397.5801">recorded = "2022-12-13T14:00:12+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29" y="1415.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="230" x="29" y="1432.7988">activity.code = "start-leave-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="449" x="29" y="1450.4082">agent.who = "Organization/b79a7914-81c8-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="29" y="1468.0176">entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="29" y="1485.627">entity.role.value = "revision"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="29" y="1503.2363">entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"</text></g><!--MD5=[60e317b52c6d5568a9735dc93c89f5a1]
class endOnleavePRO--><g id="elem_endOnleavePRO"><rect codeLine="97" fill="#FFFFFF" height="211.7031" id="endOnleavePRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="714" x="23" y="1520.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="294" x="233" y="1540.1426">Provenance  (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24" x2="736" y1="1548.2188" y2="1548.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="300" x="29" y="1566.752">id = "e4db4939-7c60-4ac6-aefc-523f809ccba6"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="429" x="29" y="1584.3613">target = "MessageHeader/f47254da-f170-46f0-b624-4778a9c92b1f"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29" y="1601.9707">occuredDateTime = "2022-12-14T15:30:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29" y="1619.5801">recorded = "2022-12-14T15:30:02+02:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29" y="1637.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="226" x="29" y="1654.7988">activity.code = "end-leave-inpatient"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="449" x="29" y="1672.4082">agent.who = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="29" y="1690.0176">entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="175" x="29" y="1707.627">entity.role.value = "revision"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="472" x="29" y="1725.2363">entity.what = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"</text></g><!--MD5=[be938a171a18a10c169f1add6b315420]
link endOnleaveB to endOnleaveMH--><!--MD5=[f3cdf63d14eeabdb2e09e227a4e74c2e]
link endOnleaveMH to endOnleavePT--><!--MD5=[20f70ef21cab2fa9c0c822c46af33e7e]
link endOnleavePT to endOnleaveENC--><!--MD5=[244bf99aafea09cbf67fb3d6c06cc491]
link endOnleaveENC to endOnleaveROrg--><!--MD5=[55e3c888574e1c8902daf4d074ad86e1]
link endOnleaveROrg to endOnleaveSOrg--><!--MD5=[000ce222a695ef5be96a45a0b274f609]
link endOnleaveSOrg to admitPRO--><!--MD5=[4e71cc400377f6d4394ffbcbeb839323]
link admitPRO to startOnleavePRO--><!--MD5=[070ac2b0b09fc940ebf8ff4d811785a5]
link startOnleavePRO to endOnleavePRO--><!--MD5=[82f645f93235bbbfc485a5736e2d97c5]
@startuml HNendOnleave

'layout
skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


'title
title Simplified example: End leave


'Message 3: End onleave inpatient
package "End leave" as endOnleave <<Frame>> {
    class "Bundle (MedComHospitalNotificationMessage)" as endOnleaveB{
        id = "e94de8ee-bd94-475e-b454-b8fbbef8a685"
        type = "message"
        timestamp = "2022-12-14T15:30:01+02:00"
    }
    class "MessageHeader (MedComHospitalNotificationMessageHeader)" as endOnleaveMH{
        id = "f47254da-f170-46f0-b624-4778a9c92b1f"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/55ba5884-81ca-11ed-a1eb-0242ac120002"
        sender.reference = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"
    }
    class "Patient (MedComCorePatient)" as endOnleavePT{
        id = "519d5170-81ca-11ed-a1eb-0242ac120002"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter (MedComHospitalNotificationEncounter)" as endOnleaveENC{
        id = "e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"
        status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "in-progress"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/519d5170-81ca-11ed-a1eb-0242ac120002"
        episodeOfCare.identifier.system = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        episodeOfCare.identifier.value = "bd481c38-a921-11ed-afa1-0242ac120002"
        period.start = "2022-12-07T12:00:00+02:00"
        extension:leavePeriod.start = "2022-12-13T14:00:10+02:00"
        extension:leavePeriod.end = "2022-12-14T15:30:00+02:00"
        serviceProvider = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
    }    
class "Receiver (MedComMessagingOrganization)" as endOnleaveROrg{
        id = "a39d4a04-81c8-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
        name = "Plejecenter Herlev"
    }
    class "Sender (MedComMessagingOrganization)" as endOnleaveSOrg{
        id = "b79a7914-81c8-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
        name = "Hjerteafdelingen på Herlev og Gentofte hospital" 
    }
    class "Provenance  (MedComMessagingProvenance)" as admitPRO{
        id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-12-07T12:00:02+02:00"
        recorded = "2022-12-07T12:00:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }
    class "Provenance  (MedComMessagingProvenance)" as startOnleavePRO{
        id = "dc421d0a-cded-470f-9a53-2ddba7583baa"
        target = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"
        occuredDateTime = "2022-12-13T14:00:12+02:00"
        recorded = "2022-12-13T14:00:12+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "start-leave-inpatient"
        agent.who = "Organization/b79a7914-81c8-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
    class "Provenance  (MedComMessagingProvenance)" as endOnleavePRO{
        id = "e4db4939-7c60-4ac6-aefc-523f809ccba6"
        target = "MessageHeader/f47254da-f170-46f0-b624-4778a9c92b1f"
        occuredDateTime = "2022-12-14T15:30:02+02:00"
        recorded = "2022-12-14T15:30:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "end-leave-inpatient"
        agent.who = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"
    }
endOnleaveB -[hidden]- endOnleaveMH
endOnleaveMH-[hidden]-endOnleavePT
endOnleavePT-[hidden]-endOnleaveENC
endOnleaveENC-[hidden]-endOnleaveROrg
endOnleaveROrg-[hidden]-endOnleaveSOrg
endOnleaveSOrg-[hidden]-admitPRO
admitPRO-[hidden]-startOnleavePRO
startOnleavePRO-[hidden]-endOnleavePRO

}



@enduml

@startuml HNendOnleave

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


title Simplified example: End leave


package "End leave" as endOnleave <<Frame>> {
    class "Bundle (MedComHospitalNotificationMessage)" as endOnleaveB{
        id = "e94de8ee-bd94-475e-b454-b8fbbef8a685"
        type = "message"
        timestamp = "2022-12-14T15:30:01+02:00"
    }
    class "MessageHeader (MedComHospitalNotificationMessageHeader)" as endOnleaveMH{
        id = "f47254da-f170-46f0-b624-4778a9c92b1f"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "hospital-notification-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/55ba5884-81ca-11ed-a1eb-0242ac120002"
        sender.reference = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus = "Encounter/e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"
    }
    class "Patient (MedComCorePatient)" as endOnleavePT{
        id = "519d5170-81ca-11ed-a1eb-0242ac120002"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Encounter (MedComHospitalNotificationEncounter)" as endOnleaveENC{
        id = "e07c4bd4-cfad-4c4d-9c4b-e4ba3424a65b"
        status.system = "http://medcomfhir.dk/ig/terminology/ValueSet/medcom-hospitalNotification-encounterStatus"
        status.code = "in-progress"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/519d5170-81ca-11ed-a1eb-0242ac120002"
        episodeOfCare.identifier.system = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        episodeOfCare.identifier.value = "bd481c38-a921-11ed-afa1-0242ac120002"
        period.start = "2022-12-07T12:00:00+02:00"
        extension:leavePeriod.start = "2022-12-13T14:00:10+02:00"
        extension:leavePeriod.end = "2022-12-14T15:30:00+02:00"
        serviceProvider = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
    }    
class "Receiver (MedComMessagingOrganization)" as endOnleaveROrg{
        id = "a39d4a04-81c8-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
        name = "Plejecenter Herlev"
    }
    class "Sender (MedComMessagingOrganization)" as endOnleaveSOrg{
        id = "b79a7914-81c8-11ed-a1eb-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
        name = "Hjerteafdelingen på Herlev og Gentofte hospital" 
    }
    class "Provenance  (MedComMessagingProvenance)" as admitPRO{
        id = "a7cf3888-6f42-4e4d-929c-d2475d24fba0"
        target = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
        occuredDateTime = "2022-12-07T12:00:02+02:00"
        recorded = "2022-12-07T12:00:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "admit-inpatient"
        agent.who = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }
    class "Provenance  (MedComMessagingProvenance)" as startOnleavePRO{
        id = "dc421d0a-cded-470f-9a53-2ddba7583baa"
        target = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"
        occuredDateTime = "2022-12-13T14:00:12+02:00"
        recorded = "2022-12-13T14:00:12+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "start-leave-inpatient"
        agent.who = "Organization/b79a7914-81c8-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/b9b4818e-02de-4cc4-b418-d20cbc7b5404"
    }
    class "Provenance  (MedComMessagingProvenance)" as endOnleavePRO{
        id = "e4db4939-7c60-4ac6-aefc-523f809ccba6"
        target = "MessageHeader/f47254da-f170-46f0-b624-4778a9c92b1f"
        occuredDateTime = "2022-12-14T15:30:02+02:00"
        recorded = "2022-12-14T15:30:02+02:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "end-leave-inpatient"
        agent.who = "Organization/5961ade8-81ca-11ed-a1eb-0242ac120002"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "revision"
        entity.what = "MessageHeader/e563a2b2-bf92-4b13-bbd2-0a021a95bded"
    }
endOnleaveB -[hidden]- endOnleaveMH
endOnleaveMH-[hidden]-endOnleavePT
endOnleavePT-[hidden]-endOnleaveENC
endOnleaveENC-[hidden]-endOnleaveROrg
endOnleaveROrg-[hidden]-endOnleaveSOrg
endOnleaveSOrg-[hidden]-admitPRO
admitPRO-[hidden]-startOnleavePRO
startOnleavePRO-[hidden]-endOnleavePRO

}



@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>