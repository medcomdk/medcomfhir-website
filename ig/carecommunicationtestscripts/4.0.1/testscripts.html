<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE HTML>
<html xml:lang="en" xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    <title>Testscripts - CareCommunication Test scripts v4.0.1</title>

    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="author" content="http://hl7.org/fhir"/>

    <link rel="stylesheet" href="fhir.css"/>

      <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="assets/css/bootstrap-fhir.css"/>

      <!-- Project extras -->
    <link rel="stylesheet" href="assets/css/project.css"/>
    <link rel="stylesheet" href="assets/css/pygments-manni.css"/>
    <link rel="stylesheet" href="assets/css/jquery-ui.css"/>
  	<link rel="stylesheet" href="assets/css/prism.css"/>
  	<link rel="stylesheet" href="assets/css/cqf.css"/>
      <!-- Placeholder for child template CSS declarations -->
    <link rel="stylesheet" href="assets/css/hl7-dk.css"/>


    <script src="fhir-table-scripts.js" type="text/javascript"> </script>

      <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
      <!-- [if lt IE 9]>
    <script src="assets/js/html5shiv.js"></script>
    <script src="assets/js/respond.min.js"></script>
    <![endif] -->

      <!-- Favicons -->
    <link sizes="144x144" rel="fhir-logo" href="assets/ico/icon-fhir-144.png"/>
    <link sizes="114x114" rel="fhir-logo" href="assets/ico/icon-fhir-114.png"/>
    <link sizes="72x72" rel="fhir-logo" href="assets/ico/icon-fhir-72.png"/>
    <link rel="fhir-logo" href="assets/ico/icon-fhir-57.png"/>
    <link rel="shortcut icon" href="assets/ico/favicon.png"/>
  </head>
  <body onload="document.body.style.opacity='1'">

	  <script src="assets/js/prism.js"></script>
    <script src="assets/js/mermaid.js" type="text/javascript"></script>
    <script src="assets/js/mermaid-init.js" type="text/javascript"></script>
    <style type="text/css">h2{--heading-prefix:"4"}
    h3,h4,h5,h6{--heading-prefix:"4"}</style>
    <div id="segment-header" class="segment">    <!-- segment-header -->
      <div class="container">    <!-- container -->
          <!-- Placeholder for child template header declarations -->

        <div id="hl7-nav">
          <a no-external="true" id="hl7-logo" href="https://www.medcom.dk">
            <img src="assets/images/dark-medcom-logo.png" alt="Visit MedComs website" height="50"/>
          </a>
        </div>
        <div id="family-nav">
          <a no-external="true" id="family-logo" href="http://hl7.org/fhir"><img src="assets/images/fhir-logo-www.png" alt="Visit the FHIR website" height="50"/> </a>
        </div>        

        <div id="ig-status">
          <p><span style="font-size:12pt;font-weight:bold">CareCommunication Test scripts</span>
            <br/>
            <span style="display:inline-block;">4.0.1 - release


            </span>
          </p>
        </div>
      </div>   <!-- /container -->
    </div>    <!-- /segment-header -->

    <div id="segment-navbar" class="segment">    <!-- segment-navbar -->
      <div id="stripe"> </div>
      <div class="container">    <!-- container -->
          <!-- HEADER CONTENT -->

        <nav class="navbar navbar-inverse">
            <!-- status-bar -->
          <div class="container">
            <button data-target=".navbar-inverse-collapse" data-toggle="collapse" type="button" class="navbar-toggle">
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
              <span class="icon-bar"> </span>
            </button>
            <a href="http://hl7.org/fhir/R4/index.html" class="navbar-brand hidden">FHIR</a>
            <div class="nav-collapse collapse navbar-inverse-collapse">
                <!-- menu.xml -->

<ul class="nav navbar-nav">
  <li>
    <a href="index.html">IG Home</a>
  </li>
  <li>
    <a href="testscripts.html">Test scripts used in TouchStone</a>
  </li>
  <li>
    <a href="testexamples.html">Test examples for test protocols</a>
  </li>
  <li>
    <a href="artifacts.html">Artifacts Summary</a>
  </li>
  <li>
    <a href="downloads.html">Download</a>
  </li>
</ul>
            </div>    <!-- /.nav-collapse -->
          </div>    <!-- /.container -->
        </nav>    <!-- /.navbar -->
        <!-- /HEADER CONTENT -->
      </div>    <!-- /container -->
    </div>    <!-- /segment-navbar -->
      <!-- status-bar -->

    <div id="segment-breadcrumb" class="segment">    <!-- segment-breadcrumb -->
      <div class="container">    <!-- container -->
        <ul class="breadcrumb">
          <li><a href="toc.html"><b>Table of Contents</b></a></li><li><b>Testscripts</b></li>

        </ul>
      </div>    <!-- /container -->
    </div>    <!-- /segment-breadcrumb -->

    <a name="top"> </a>
    <div id="segment-content" class="segment">    <!-- segment-content -->
      <div class="container">    <!-- container -->
        <div class="row">
          <div class="inner-wrapper">

<style type="text/css">
h2:before{color:silver;counter-increment:section;content:var(--heading-prefix) " ";}
h3:before{color:silver;counter-increment:sub-section;content:var(--heading-prefix) "." counter(sub-section) " ";}
h4:before{color:silver;counter-increment:composite;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) " ";}
h5:before{color:silver;counter-increment:detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) " ";}
h6:before{color:silver;counter-increment:more-detail;content:var(--heading-prefix) "." counter(sub-section) "." counter(composite) "." counter(detail) "." counter(more-detail)" ";}
</style>
<div class="col-12">
    <!-- ReleaseHeader --><p id="publish-box">This page is part of the CareCommunication Testscripts (v4.0.1: Release) based on <a no-external="true" href="http://hl7.org/fhir/R4">FHIR (HL7® FHIR® Standard) R4</a>. .  For a full list of available versions, see the <a no-external="true" href="http://medcomfhir.dk/ig/carecommunicationtestscripts/history.html">Directory of published versions</a></p>  <!-- EndReleaseHeader -->
  <h2>Testscripts</h2>
  












    <p>  <!-- white space is critical inside of capture --></p>
<div class="markdown-toc">
<ul id="markdown-toc">
  <li><a href="#before-getting-started" id="markdown-toc-before-getting-started">Before getting started</a></li>
  <li><a href="#send-carecommunication-test-scripts" id="markdown-toc-send-carecommunication-test-scripts">Send CareCommunication test scripts</a></li>
</ul>

</div>
<p>The test scripts are created by MedCom for testing in <a href="https://touchstone.aegis.net/touchstone/">TouchStone</a> during MedCom test and certification. The test scripts may be used locally by vendors in their own testsetup, e.g. during code development or test.</p>

<p>Test scripts presented in this IG are all based on the <a href="https://www.hl7.org/fhir/testscript.html">FHIR TestScript resource</a>. TouchStone and an application programming interface (API), e.g. Postman, or the system under test (SUT), are used to execute the test scripts.</p>

<h3 id="before-getting-started">Before getting started</h3>

<p>Use cases described in the <a href="https://medcomdk.github.io/dk-medcom-carecommunication/#12-use-cases">use case document</a> will be referenced throughout this IG and they are the foundation for the tests.</p>

<p>In addition to test scripts based on the use cases, test scripts testing the technical aspects are included. They will focus on the technical tests within the boundaries of the CareCommunication standard and governance. All tests are used to support the test protocols for sending CareCommunications.</p>

<h4 id="touchstone-and-api">TouchStone and API</h4>
<p>Before getting started with test script execution, it is necessary to have an account, be a member of MedComs Org Group, and to create a test system in TouchStone. Please follow <a href="https://medcomdk.github.io/MedComLandingPage/assets/documents/TouchStoneGettingStarted.html">this guide to setup an account and test system</a>.</p>

<h4 id="test-script-naming">Test script naming</h4>
<p><strong>Use cases:</strong> The name of the test scripts is constituted by CareCommunication_TestScript_[send]-[type], describing the type of messages being sent, for instance CareCommunication_TestScript_send-new-message. 'CareCommunication_TestScript_' is not shown in the tables below.</p>

<p><strong>Technical cases:</strong> The name of the test scripts is constituted by CareCommunication_TestScript_[send]-[tec]-[number]. For instance CareCommunication_Testscript_send-tec-02. 'CareCommunication_TestScript_' is not shown in the tables below.</p>

<h4 id="test-examples">Test examples</h4>

<p>Test examples are, in TouchStone testing, called fixtures. When testing the CareCommunication standard, the fixtures are previously sent CareCommunications. The fixtures are already uploaded to TouchStone. During setup of a test, all relevant fixtures will automatically be uploaded to the server that is used during test. From an API it is possible to request relevant fixtures. Timestamps in fixtures are defined to be added to the fixture when the test is executed.</p>

<p>All fixtures are based on the test patient:</p>
<ul>
  <li>Name: Bruno Test Elmer</li>
  <li>CPR-nr.: 250947-9989</li>
</ul>

<h4 id="operations">Operations</h4>

<p>When sending a CareCommunication, a POST operation is required for all types of messages, and must be used for both the preconditional messages and actual messages being sent. The POST operation should be used from the API or SUT, and each posted message will be validated against the CareCommunication IG. Further, a number of asserts will test for correct concent of the CareCommunication message. The endpoint of the POST operation depends on the setup of the testscript, but it migth be similar to: <code class="language-plaintext highlighter-rouge">http://touchstone.aegis.net:49917/fhir4-0-1/Bundle</code></p>

<p>When receiving a CareCommunication, which is the cases is a precondition, a GET operation must be used from the API or SUT. When using the GET operation a fixture will send from the server, which can be visualized in SUT.
The endpoint of the GET operation depends on the setup of the testscript, but it will be composed by the server endpoint, Resource type and id. It migth be similar to <code class="language-plaintext highlighter-rouge">http://touchstone.aegis.net:49917/fhir4-0-1/Bundle/b10620cb-e2e6-436e-9185-c35f7e196cea</code>.</p>

<h3 id="send-carecommunication-test-scripts">Send CareCommunication test scripts</h3>
<p>To execute all the test scripts below, both POST and GET operations must be used.</p>

<p>Since it is optional to support sending forwarded CareCommunication, a the test scripts testing these functionalities are marked with * in the tables below.</p>

<p>When executing some of the send test scripts, it is required that SUT has executed one or more use cases in advance by sending a message. These use cases are listed in the 'Precondition' columns in the tables.</p>

<h4 id="use-cases">Use Cases</h4>

<p><a href="https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/CareCommunication/v400-send&amp;activeOnly=false&amp;contentEntry=TEST_SCRIPTS">Test scripts for test of the sending use cases, can be found here in TouchStone</a> or see all sending test scripts in the <a href="https://touchstone.aegis.net/touchstone/conformance/suites?name=FHIR4-0-1-CareCommunication-send-Client">conformance test suite</a>, which will be used for test and certification. The conformance suite provides a great overview of the executed test scripts.</p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Use case <br/> code</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Activity</strong></th>
      <th><strong>Precondition use case</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><strong>New message</strong></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l428">​</a><a href="./TestScript-carecommunication-send-new-message">send-new-message</a></td>
      <td>S1</td>
      <td>Send CareCommunication. <br/> Receiver is expected to be 'Klinik for Ældresygdomme, AUH, Skejby' with SOR-id: 441211000016000</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l449">​</a><a href="./TestScript-carecommunication-send-new-attachment-pdf">send-new-attachment-pdf</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a pdf as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l470">​</a><a href="./TestScript-carecommunication-send-new-attachment-png">send-new-attachment-png</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a png as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l491">​</a><a href="./TestScript-carecommunication-send-new-attachment-bmp">send-new-attachment-bmp</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a bmp as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l512">​</a><a href="./TestScript-carecommunication-send-new-attachment-jepg">send-new-attachment-jpeg</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a jpeg as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l533">​</a><a href="./TestScript-carecommunication-send-new-attachment-tiff">send-new-attachment-tiff</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a tiff as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l554">​</a><a href="./TestScript-carecommunication-send-new-attachment-gif">send-new-attachment-gif</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a gif as an attached file . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l575">​</a><a href="./TestScript-carecommunication-send-new-attachment-link">send-new-attachment-link</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with a link as an attachment . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l596">​</a><a href="./TestScript-carecommunication-send-new-attachment-multiple">send-new-attachment-multiple</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with multiple attached files . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l617">​</a><a href="./TestScript-carecommunication-send-new-attachment">send-new-attachment-author</a></td>
      <td>S1.A1</td>
      <td>Send CareCommunication with attached files and structured author information; author name and role, and creation date . <br/> Receiver is expected to be 'Sundhedsplejen, Aabenraa kommune' with SOR-id: 330461000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l638">​</a><a href="./TestScript-carecommunication-send-new-topic">send-new-topic</a></td>
      <td>S1.A2</td>
      <td>Send CareCommunication with topic. <br/> Receiver is expected to be 'Lægeklinik Ølgod' with SOR-id: 1339531000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l659">​</a><a href="./TestScript-carecommunication-send-new-category-other">send-new-category-other</a></td>
      <td>S1.A5</td>
      <td>Send CareCommunication with category 'Other'. <br/> Receiver is expected to be 'SLB Hjertesygdomme Ambulatorium (Kolding), Kolding Sygehus' with SOR-id: 349061000016004</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l680">​</a><a href="./TestScript-carecommunication-send-new-priority">send-new-priority</a></td>
      <td>S1.A6</td>
      <td>Send CareCommunication with category 'Regarding referral' and included priority. <br/> Receiver is expected to be 'Pædagogisk Psykologisk Rådgivning, Aalborg kommune' with SOR-id: 1385391000016002</td>
      <td>new-message</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><strong>Reply</strong></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l720">​</a><a href="./TestScript-carecommunication-send-reply-message">send-reply-message</a></td>
      <td>S2</td>
      <td>Reply CareCommunication</td>
      <td>reply-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l739">​</a><a href="./TestScript-carecommunication-send-reply-attachment">send-reply-attachment</a></td>
      <td>S2.A1</td>
      <td>Reply CareCommunication where the new message includes attached files</td>
      <td>reply-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l758">​</a><a href="./TestScript-carecommunication-send-reply-add-attachment">send-reply-add-attachment</a></td>
      <td>S2.A1</td>
      <td>Reply CareCommunication add new attachments. More than one attachment is expected</td>
      <td>reply-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l777">​</a><a href="./TestScript-carecommunication-send-reply-changecategory">send-reply-changecategory</a></td>
      <td>S2.A2</td>
      <td>Reply CareCommunication with changed category</td>
      <td>reply-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l796">​</a><a href="./TestScript-carecommunication-send-reply-changetopic">send-reply-changetopic</a></td>
      <td>S2.A2</td>
      <td>Reply CareCommunication with changed topic</td>
      <td>reply-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l815">​</a><a href="./TestScript-carecommunication-send-reply-new">send-reply-new</a></td>
      <td>S2</td>
      <td>Reply CareCommunication to a CareCommunication send by the replying system</td>
      <td>reply-message</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l834">​</a><a href="./TestScript-carecommunication-send-reply-new">send-reply-new</a></td>
      <td>S2</td>
      <td>Reply CareCommunication to a CareCommunication that has been forwarded</td>
      <td>reply-message</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><span style="color: grey;">reply-oioxmlmessage</span></td>
      <td><span style="color: grey;">S2.A3</span></td>
      <td><span style="color: grey;">Reply to OIOXML</span></td>
      <td><span style="color: grey;">reply-message</span></td>
      <td><span style="color: grey;">R1 (OIOXML-message)</span></td>
    </tr>
    <tr>
      <td><span style="color: grey;">reply-fhirmessage</span></td>
      <td><span style="color: grey;">S2.A3</span></td>
      <td><span style="color: grey;">Reply to FHIR message</span></td>
      <td><span style="color: grey;">reply-message</span></td>
      <td><span style="color: grey;">R1 (FHIR-message)</span></td>
    </tr>
    <tr>
      <td><strong>Forward</strong></td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
      <td>&nbsp;</td>
    </tr>
    <tr>
      <td><a name="l918">​</a><a href="./TestScript-carecommunication-send-forward-message">send-forward-message</a>*</td>
      <td>S3</td>
      <td>Forward CareCommunication</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l938">​</a><a href="./TestScript-carecommunication-send-forward-attachment">send-forward-attachment</a>*</td>
      <td>S3.A1</td>
      <td>Forward CareCommunication where the new message includes attached files</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l958">​</a><a href="./TestScript-carecommunication-send-forward-attachment">send-forward-add-attachment</a>*</td>
      <td>S3.A1</td>
      <td>Forward CareCommunication and add an attached file</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l978">​</a><a href="./TestScript-carecommunication-send-forward-changecategory">send-forward-changecategory</a>*</td>
      <td>S3.A2</td>
      <td>Forward CareCommunication with changed category</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l998">​</a><a href="./TestScript-carecommunication-send-forward-changetopic">send-forward-changetopic</a>*</td>
      <td>S3.A2</td>
      <td>Forward CareCommunication with changed topic</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
    <tr>
      <td><a name="l1018">​</a><a href="./TestScript-carecommunication-send-forward-partialthread">send-forward-partialthread</a>*<sup role="doc-noteref" id="fnref:2"><a rel="footnote" href="#fn:2" class="footnote">1</a></sup></td>
      <td>S3.A3</td>
      <td>Forward a part of the CareCommunication thread</td>
      <td>forward-message</td>
      <td>R1</td>
    </tr>
  </tbody>
</table>

<h4 id="technical-cases">Technical cases</h4>

<p><a href="https://touchstone.aegis.net/touchstone/">Test scripts for test of sending technical cases, can be found here in TouchStone.</a> They are also included in the conformance suite.</p>

<table>
  <thead>
    <tr>
      <th><strong>Type</strong></th>
      <th><strong>Description</strong></th>
      <th><strong>Activity/activities</strong></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td><a name="l1073">​</a><a href="./TestScript-carecommunication-send-tec-01">send-tec-01</a></td>
      <td>Send CareCommunication concerning a deceased patient</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l1086">​</a><a href="./TestScript-carecommunication-send-tec-02">send-tec-02</a></td>
      <td>Send CareCommunication with sender and recipient</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l1099">​</a><a href="./TestScript-carecommunication-send-tec-03">send-tec-03</a></td>
      <td>Send CareCommunication where the patient has a CPR-number as identifier</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l1112">​</a><a href="./TestScript-carecommunication-send-tec-04">send-tec-04</a></td>
      <td>Send CareCommunication where the patient has a replacement-CPR-number as identifier</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l1125">​</a><a href="./TestScript-carecommunication-send-tec-05">send-tec-05</a></td>
      <td>Send CareCommunication with episodeOfCareID</td>
      <td>S1</td>
    </tr>
    <tr>
      <td><a name="l1138">​</a><a href="./TestScript-carecommunication-send-tec-06">send-tec-06</a></td>
      <td>Reply to CareCommunication, where episodeOfCare-identifier is correctly transfered in the communication</td>
      <td>R1, S2</td>
    </tr>
    <tr>
      <td><a name="l1151">​</a><a href="./TestScript-carecommunication-send-tec-07">send-tec-07</a></td>
      <td>Reply to CareCommunication, that includes all content</td>
      <td>R1, S2</td>
    </tr>
  </tbody>
</table>

  <!-- ### Receive CareCommunication test scripts
When receiving a CareCommunication, a GET operation is required for all messages. When receiving a reply, modification of reply or retraction of reply, the receiver would - in a real world scenario - have sent a new CareCommunication in advance. However, it is not possible to create such a setup in TouchStone, as it doesn't have the logic to take some of the content from the sent message and include it in a fixture. Therefore, isn't it a part of the test script to send a CareCommunication before receving a reply. 

#### Use Cases

[Test scripts for test of the receiving use cases, can be found here in TouchStone.](https://touchstone.aegis.net/touchstone/testdefinitions?selectedTestGrp=/FHIRSandbox/MedCom/CareCommunication/v210-receive&activeOnly=false&contentEntry=TEST_SCRIPTS) or see all receiving test scripts in the [conformance test suite](https://touchstone.aegis.net/touchstone/conformance/current?suite=FHIR4-0-1-CareCommunication-v210-Receive-Client), which will be used for test and certification. 

| **Type** | **Use case <br> code** | **Description** | **Activity** | **Precondition use case** |
|---|---|---|---|---|
| **New message** |  |  |  |  |
| [receive-new-message](./TestScript-carecommunication-receive-new-message) | R1 | Receive new CareCommunication  | new-message | S1 |
| [receive-new-attachment](./TestScript-carecommunication-receive-new-attachment) | R1 | Receive new CareCommunication with attached files  | new-message | S1.A1 |
| [receive-new-topic](./TestScript-carecommunication-receive-new-topic) | R1 | Receive new CareCommunication with topic | new-message | S1.A2 |
| [receive-new-formatted-text](./TestScript-carecommunication-receive-new-formatted-text)[^2] | R1 | Receive new CareCommunication with formatted text and table | new-message | S1.A3 |
| [receive-new-category-other](./TestScript-carecommunication-receive-new-category-other) | R1 | Receive new CareCommunication with category 'Other'| new-message | S1.A5 |
| [receive-new-priority](./TestScript-carecommunication-receive-new-priority) | R1 | Receive new CareCommunication with category 'Regarding referral' <br> and included priority| new-message | S1.A6 |
| **Reply** |  |  |  |  |
| [receive-reply-message](./TestScript-carecommunication-receive-reply-message) | R1 | Receive reply to CareCommunication | reply-message | S2 |
| [receive-reply-attachment](./TestScript-carecommunication-receive-reply-attachment) | R1 | Receive reply to CareCommunication with attached files | reply-message | S2.A1 |
| [receive-reply-changecategory](./TestScript-carecommunication-receive-reply-changecategory) | R1 | Receive reply to CareCommunication with changed category | reply-message | S2.A2 |
| [receive-reply-changetopic](./TestScript-carecommunication-receive-reply-changetopic) | R1 | Receive reply to CareCommunication with changed topic | reply-message | S2.A2 |
| <span style="color: grey;">receive-reply-oioxmlmessage</span> | | <span style="color: grey;">R1</span> |  <span style="color: grey;">Receive reply to OIOXML message</span> | <span style="color: grey;">S2.A3 (OIOXML-message)</span> |
| <span style="color: grey;">receive-reply-fhirmessage</span> | | <span style="color: grey;">R1</span> |  <span style="color: grey;">Receive reply to FHIR message</span> | <span style="color: grey;">S2.A3 (FHIR-message)</span> |

| **Forward** |  |  |  |  |
| [receive-forward-message](./TestScript-carecommunication-receive-forward-message) | R1 | Receive forward of CareCommunication | forward-message | - |
| [receive-forward-attachment](./TestScript-carecommunication-receive-forward-attachment) | R1 | Receive forward of CareCommunication with attached files | forward-message | - |
| [receive-forward-topic](./TestScript-carecommunication-receive-forward-topic) | R1 | Receive forward of CareCommunication with topic | forward-message | - |
| **Modify** |  |  |  |  |
| [receive-modify-new-message](./TestScript-carecommunication-receive-modify-new-message) | R.CORR | Receive correction of a new CareCommunication | modify-message | S1 |
| [receive-modify-new-attachment](./TestScript-carecommunication-receive-modify-new-attachment) | R.CORR | Receive correction of a new CareCommunication with attached files | modify-message | S1.A1 |
| [receive-modify-new-topic](./TestScript-carecommunication-receive-modify-new-topic) | R.CORR | Receive correction of a new CareCommunication with topic | modify-message | S1.A2 |
| [receive-modify-new-category-other](./TestScript-carecommunication-receive-modify-new-category-other) | R.CORR | Receive correction of a new CareCommunication with category 'Other' | modify-message | S1.A5 |
| [receive-modify-new-priority](./TestScript-carecommunication-receive-modify-new-priority) | R.CORR | Receive correction of a new CareCommunication with category 'Regarding referral' <br> and included priority | modify-message | S1.A6 |
| [receive-modify-reply-message](./TestScript-carecommunication-receive-modify-reply-message) | R.CORR | Receive correction of a reply to CareCommunication | modify-message | R1, S2 |
| [receive-modify-reply-attachment](./TestScript-carecommunication-receive-modify-reply-attachment) | R.CORR | Receive correction of a reply to CareCommunication with attached files | modify-message | R1, S2.A1 |
| [receive-modify-reply-changecategory](./TestScript-carecommunication-receive-modify-reply-changecategory) | R.CORR | Receive correction of a reply to CareCommunication with changed category | modify-message | R1, S2.A2 |
| [receive-modify-reply-changetopic](./TestScript-carecommunication-receive-modify-reply-changetopic) | R.CORR | Receive correction of a reply to CareCommunication with changed topic | modify-message | R1, S2.A2 |
| <span style="color: grey;">receive-modify-reply-oioxmlmessage</span> | | <span style="color: grey;">R1</span> |  <span style="color: grey;">Receive reply to OIOXML message</span> | <span style="color: grey;">S2.A3 (OIOXML-message)</span> |
| <span style="color: grey;">receive-modify-reply-fhirmessage</span> | | <span style="color: grey;">R1</span> |  <span style="color: grey;">Receive reply to FHIR message</span> | <span style="color: grey;">S2.A3 (FHIR-message)</span> |
| [receive-modify-forward-message](./TestScript-carecommunication-receive-modify-forward-message) | R.CORR | Receive correction of a forward of CareCommunication| modify-message | R1, S3 |
| [receive-modify-forward-attachment](./TestScript-carecommunication-receive-modify-forward-attachment) | R.CORR | Receive correction of a forward of CareCommunication with attached files | modify-message | R1, S3.A1 |
| [receive-modify-forward-changecategory](./TestScript-carecommunication-receivemodify-forward-changecategory) | R.CORR | Receive correction of a forward of CareCommunication with changed category | modify-message | R1, S3.A2 |
| [receive-modify-forward-changetopic](./TestScript-carecommunication-receive-modify-forward-changetopic) | R.CORR | Receive correction of a forward of CareCommunication with changed topic | modify-message | R1, S3.A2 |
| **Retract** |  |  |  |  |
| [receive-retract-new-cpr](./TestScript-carecommunication-receive-retract-new-cpr) | R.CANC | Receive cancellation of CareCommunication due to incorrect CPR-number | retract-message | S1, S.CANC |
| [receive-retract-new-receiver](./TestScript-carecommunication-receive-retract-new-receiver) | R.CANC | Receive cancellation of CareCommunication due to incorrect receiver | retract-message | S1, S.CANC |
| [receive-retract-new-attachment](./TestScript-carecommunication-receive-retract-new-attachment) | R.CANC | Receive cancellation of CareCommunication due to attachment with content concerning a incorrect CPR-number | S1.A1, S.CANC |
| [receive-retract-reply-cpr](./TestScript-carecommunication-receive-retract-reply-cpr) | R.CANC | Receive cancellation of CareCommunication due to incorrect CPR-number | retract-message | R1, S2, S.CANC |
| [receive-retract-reply-receiver](./TestScript-carecommunication-receive-retract-reply-receiver) | R.CANC | Receive cancellation of CareCommunication due to incorrect receiver | retract-message | R1, S2, S.CANC |
| [receive-retract-reply-attachment](./TestScript-carecommunication-receive-retract-reply-attachment) | R.CANC | Receive cancellation of CareCommunication due to attachment with content concerning a incorrect CPR-number | retract-message | R1, S2.A1, S.CANC |
| [receive-retract-forward-cpr](./TestScript-carecommunication-receive-retract-forward-cpr) | R.CANC | Receive cancellation of CareCommunication due to incorrect CPR-number| retract-message | S1, S3, S.CANC |
| [receive-retract-forward-receiver](./TestScript-carecommunication-receive-retract-forward-receiver) | R.CANC | Receive cancellation of CareCommunication due to incorrect receiver| retract-message | S1, S3, S.CANC |
| [receive-retract-forward-attachment](./TestScript-carecommunication-receive-retract-forward-attachment) | R.CANC | Receive cancellation of CareCommunication due to attachment with content concerning a incorrect CPR-number | retract-message | S1, S3.A1, S.CANC |


#### Technical cases

[Test scripts for test of the receiving technical cases, can be found here in TouchStone.](https://touchstone.aegis.net/touchstone/)

| **Type** | **Description** | **Type** |
|---|---|---|
| [receive-tec-01](./TestScript-carecommunication-receive-tec-01) | Receive new CareCommunication for a deceased patient | R1 |
| [receive-tec-02](./TestScript-carecommunication-receive-tec-02) | Receive new CareCommunication with all MustSupport content (without attachments)| R1 |
| [receive-tec-03](./TestScript-carecommunication-receive-tec-03) | Receive newCareCommunication, receive CareCommunication (positiv dublet) | R1, R1 |
| [receive-tec-04](./TestScript-carecommunication-receive-tec-04) | Receive invalid CareCommunication, receive invalid CareCommunication (negative dublet) | - |
| [receive-tec-05](./TestScript-carecommunication-receive-tec-05) | Receive CareCommunications in wrong order (correction) | R.CORR, R.1 |
| [receive-tec-06](./TestScript-carecommunication-receive-tec-06) | Receive CareCommunications in wrong order (cancellation) | R.CANC, R.1 |
| [receive-tec-07](./TestScript-carecommunication-receive-tec-07) | Receive new CareCommunication with specific sender and recipient included | R1 | -->
<div role="doc-endnotes" class="footnotes">
  <ol>
    <li role="doc-endnote" id="fn:2">
      <p>This test script is only relevant, if the system supports the user can select a specific part of the CareCommunciation to forward.&nbsp;<a role="doc-backlink" href="#fnref:2" class="reversefootnote">↩</a></p>
    </li>
  </ol>
</div>



</div>
        </div>    <!-- /inner-wrapper -->
      </div>    <!-- /row -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-content -->

  <script src="assets/js/jquery.js" type="text/javascript"> </script>       <!-- note keep space here, otherwise it will be transformed to empty tag -> fails -->
  <script src="assets/js/jquery-ui.min.js" type="text/javascript"> </script>

  <script src="assets/js/window-hash.js" type="text/javascript"> </script>
  <a name="bottom"> </a>
  <div igtool="footer" id="segment-footer" class="segment">    <!-- segment-footer -->
    <div class="container">    <!-- container -->

      <div class="inner-wrapper">
        <p>
          IG &copy; 2022+ <a style="color:var(--footer-hyperlink-text-color)" href="mailto:fhir@medcom.dk"></a>.  Package medcom.fhir.dk.carecommunicationtestscripts#4.0.1 based on <a style="color: var(--footer-hyperlink-text-color)" href="http://hl7.org/fhir/R4/">FHIR 4.0.1</a>. Generated <span title="Thu, Dec 12, 2024 13:50+0100">2024-12-12</span>
          <br/>
          <span style="color: var(--footer-highlight-text-color)">
                      Links: <a style="color: var(--footer-hyperlink-text-color)" href="toc.html">Table of Contents</a> |
                 <a style="color: var(--footer-hyperlink-text-color)" href="qa.html">QA Report</a>
                 
                

| <a style="color: #81BEF7" href="https://www.was.digst.dk/medcomfhir-dk-ig-" target="_blank">Accessibility statement (Tilgængelighedserklæring)</a>
          </span>
        </p>
      </div>    <!-- /inner-wrapper -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-footer -->
  
  <div id="segment-post-footer" class="segment hidden">    <!-- segment-post-footer -->
    <div class="container">    <!-- container -->
    </div>    <!-- /container -->
  </div>    <!-- /segment-post-footer -->

    <!-- JS and analytics only. -->
    <!-- Bootstrap core JavaScript
  ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
  <script src="assets/js/bootstrap.min.js" type="text/javascript"> </script>
  <script src="assets/js/respond.min.js" type="text/javascript"> </script>
  <script src="assets/js/anchor.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard.min.js" type="text/javascript"> </script>
  <script src="assets/js/clipboard-btn.js" type="text/javascript"> </script>
  <script src="assets/js/anchor-hover.js" type="text/javascript"> </script>
    <!-- Analytics Below
  ================================================== -->
  </body>
</html>